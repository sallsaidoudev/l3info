<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Net.html">
<link rel="next" href="Protocol.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Console" rel="Chapter" href="Console.html">
<link title="Font" rel="Chapter" href="Font.html">
<link title="Helpers" rel="Chapter" href="Helpers.html">
<link title="Input" rel="Chapter" href="Input.html">
<link title="Input_edit" rel="Chapter" href="Input_edit.html">
<link title="Keys" rel="Chapter" href="Keys.html">
<link title="Log" rel="Chapter" href="Log.html">
<link title="Net" rel="Chapter" href="Net.html">
<link title="Parser" rel="Chapter" href="Parser.html">
<link title="Protocol" rel="Chapter" href="Protocol.html">
<link title="Serialize" rel="Chapter" href="Serialize.html">
<link title="Socket" rel="Chapter" href="Socket.html">
<link title="Sprite" rel="Chapter" href="Sprite.html">
<link title="Tcp" rel="Chapter" href="Tcp.html">
<link title="Udp" rel="Chapter" href="Udp.html">
<link title="Vector" rel="Chapter" href="Vector.html">
<link title="Video" rel="Chapter" href="Video.html"><title>Parser</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Net.html" title="Net">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Protocol.html" title="Protocol">Next</a>
</div>
<h1>Module <a href="type_Parser.html">Parser</a></h1>

<pre><span class="keyword">module</span> Parser: <code class="code">sig</code> <a href="Parser.html">..</a> <code class="code">end</code></pre><div class="info module top">
Parser<br>
</div>
<hr width="100%">

<pre><span id="EXCEPTIONError"><span class="keyword">exception</span> Error</span> <span class="keyword">of</span> <code class="type">string</code></pre>
<div class="info ">
Parser raises Error if it is unable to parse the given string.<br>
</div>

<pre><code><span id="TYPEt"><span class="keyword">type</span> <code class="type">'a</code> t</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.lex">lex</span>&nbsp;: <code class="type">Lexing.lexbuf -> 'a</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.deparse">deparse</span>&nbsp;: <code class="type">'a -> string</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.complete">complete</span>&nbsp;: <code class="type">Lexing.lexbuf -> string list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.accept">accept</span>&nbsp;: <code class="type">'a -> 'a</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.desc">desc</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr></table>
}

<div class="info ">
A type of information that can be processed by the parser. It knows which
   values are acceptable and sometimes knows how to complete a word. Some
   such types will also know how to display themselves in the menu.<br>
</div>


<pre><span id="VALint"><span class="keyword">val</span> int</span> : <code class="type">?max:int -> ?min:int -> unit -> int <a href="Parser.html#TYPEt">t</a></code></pre><div class="info ">
Simple command and variable params<br>
</div>

<pre><span id="VALfloat"><span class="keyword">val</span> float</span> : <code class="type">unit -> float <a href="Parser.html#TYPEt">t</a></code></pre>
<pre><span id="VALunit"><span class="keyword">val</span> unit</span> : <code class="type">unit <a href="Parser.html#TYPEt">t</a></code></pre>
<pre><span id="VALbool"><span class="keyword">val</span> bool</span> : <code class="type">bool <a href="Parser.html#TYPEt">t</a></code></pre>
<pre><span id="VALstring"><span class="keyword">val</span> string</span> : <code class="type">string <a href="Parser.html#TYPEt">t</a></code></pre>
<pre><span id="VALoption"><span class="keyword">val</span> option</span> : <code class="type">'a <a href="Parser.html#TYPEt">t</a> -> 'a option <a href="Parser.html#TYPEt">t</a></code></pre><div class="info ">
For optional parameters in commands<br>
</div>

<pre><span id="VALpair"><span class="keyword">val</span> pair</span> : <code class="type">'a <a href="Parser.html#TYPEt">t</a> -> 'b <a href="Parser.html#TYPEt">t</a> -> ('a * 'b) <a href="Parser.html#TYPEt">t</a></code></pre><div class="info ">
For functions with more arguments<br>
</div>

<pre><span id="VALtriple"><span class="keyword">val</span> triple</span> : <code class="type">'a <a href="Parser.html#TYPEt">t</a> -> 'b <a href="Parser.html#TYPEt">t</a> -> 'c <a href="Parser.html#TYPEt">t</a> -> ('a * 'b * 'c) <a href="Parser.html#TYPEt">t</a></code></pre>
<pre><span id="VALquadruple"><span class="keyword">val</span> quadruple</span> : <code class="type">'a <a href="Parser.html#TYPEt">t</a> -><br>       'b <a href="Parser.html#TYPEt">t</a> -> 'c <a href="Parser.html#TYPEt">t</a> -> 'd <a href="Parser.html#TYPEt">t</a> -> ('a * 'b * 'c * 'd) <a href="Parser.html#TYPEt">t</a></code></pre>
<pre><span id="VALpentuple"><span class="keyword">val</span> pentuple</span> : <code class="type">'a <a href="Parser.html#TYPEt">t</a> -><br>       'b <a href="Parser.html#TYPEt">t</a> -><br>       'c <a href="Parser.html#TYPEt">t</a> -><br>       'd <a href="Parser.html#TYPEt">t</a> -> 'e <a href="Parser.html#TYPEt">t</a> -> ('a * 'b * 'c * 'd * 'e) <a href="Parser.html#TYPEt">t</a></code></pre>
<pre><span id="VALaccept_only"><span class="keyword">val</span> accept_only</span> : <code class="type">'a list -> 'a <a href="Parser.html#TYPEt">t</a> -> 'a <a href="Parser.html#TYPEt">t</a></code></pre><div class="info ">
If we want to accept only some arguments of the given type<br>
</div>

<pre><span id="VALcallback"><span class="keyword">val</span> callback</span> : <code class="type">('a -> unit) -> 'a <a href="Parser.html#TYPEt">t</a> -> 'a <a href="Parser.html#TYPEt">t</a></code></pre><div class="info ">
Adds a callback to a change.<br>
</div>

<pre><span id="VALcommand"><span class="keyword">val</span> command</span> : <code class="type">(unit -> unit) <a href="Parser.html#TYPEt">t</a></code></pre><div class="info ">
For commands or variables taking commands as parameters. The command
   can be a simple command (not taking arguments) or a one in {such} 
   brackets with params inside. Completes to a command and returns the 
   parsed command as argument<br>
</div>

<pre><span id="VALvariable"><span class="keyword">val</span> variable</span> : <code class="type">string <a href="Parser.html#TYPEt">t</a></code></pre><div class="info ">
For commands that can take variable names as parameters.<br>
</div>

<pre><span id="VALadd_command"><span class="keyword">val</span> add_command</span> : <code class="type">string -> 'a <a href="Parser.html#TYPEt">t</a> -> string -> ('a -> unit) -> unit</code></pre><div class="info ">
<code class="code">add_command name type description handler</code> adds the command to the list
   of commands. Examples of usage in MLGame:
<p>

   Parser.add_command "exec" Parser.string "executes the given script" exec
<p>

   Parser.add_command "bind_global" (Parser.pair Key.parser Parser.command)
     "Bind_global binds..." my_function;;
<p>

   Parser.add_command "disconnect" Net.local_player_parser "This fun.." fun;;<br>
</div>

<pre><span id="VALadd_variable"><span class="keyword">val</span> add_variable</span> : <code class="type">string -> 'a <a href="Parser.html#TYPEt">t</a> -> 'a -> 'a Pervasives.ref</code></pre>
<pre><span id="VALget"><span class="keyword">val</span> get</span> : <code class="type">string -> string</code></pre>
<pre><span id="VALset"><span class="keyword">val</span> set</span> : <code class="type">string -> string -> unit</code></pre>
<pre><span id="VALparse"><span class="keyword">val</span> parse</span> : <code class="type">string -> unit -> unit</code></pre><div class="info ">
<code class="code">parse expression</code> Parses a given string and returns a simple function
   that executes the parsed <code class="code">expression</code>.<br>
<b>Raises</b> <code>Error</code> if something went wrong.<br>
</div>

<pre><span id="VALavailable_completions"><span class="keyword">val</span> available_completions</span> : <code class="type">string -> string list</code></pre><div class="info ">
Returns available command completions of given string<br>
</div>

<pre><span id="VALcreate_log"><span class="keyword">val</span> create_log</span> : <code class="type">string -> string -> bool -> string -> unit</code></pre><div class="info ">
<code class="code">create_log name prefix init</code> creates a debug logger that can be switched
   on and off via the parser.<br>
</div>

<pre><span id="VALsextuple"><span class="keyword">val</span> sextuple</span> : <code class="type">'a <a href="Parser.html#TYPEt">t</a> -><br>       'b <a href="Parser.html#TYPEt">t</a> -><br>       'c <a href="Parser.html#TYPEt">t</a> -><br>       'd <a href="Parser.html#TYPEt">t</a> -><br>       'e <a href="Parser.html#TYPEt">t</a> -> 'f <a href="Parser.html#TYPEt">t</a> -> ('a * 'b * 'c * 'd * 'e * 'f) <a href="Parser.html#TYPEt">t</a></code></pre>
<pre><span id="VALseptuple"><span class="keyword">val</span> septuple</span> : <code class="type">'a <a href="Parser.html#TYPEt">t</a> -><br>       'b <a href="Parser.html#TYPEt">t</a> -><br>       'c <a href="Parser.html#TYPEt">t</a> -><br>       'd <a href="Parser.html#TYPEt">t</a> -><br>       'e <a href="Parser.html#TYPEt">t</a> -><br>       'f <a href="Parser.html#TYPEt">t</a> -> 'g <a href="Parser.html#TYPEt">t</a> -> ('a * 'b * 'c * 'd * 'e * 'f * 'g) <a href="Parser.html#TYPEt">t</a></code></pre>
<pre><span id="VALoctuple"><span class="keyword">val</span> octuple</span> : <code class="type">'a <a href="Parser.html#TYPEt">t</a> -><br>       'b <a href="Parser.html#TYPEt">t</a> -><br>       'c <a href="Parser.html#TYPEt">t</a> -><br>       'd <a href="Parser.html#TYPEt">t</a> -><br>       'e <a href="Parser.html#TYPEt">t</a> -><br>       'f <a href="Parser.html#TYPEt">t</a> -><br>       'g <a href="Parser.html#TYPEt">t</a> -><br>       'h <a href="Parser.html#TYPEt">t</a> -> ('a * 'b * 'c * 'd * 'e * 'f * 'g * 'h) <a href="Parser.html#TYPEt">t</a></code></pre>
<pre><span id="VALnonuple"><span class="keyword">val</span> nonuple</span> : <code class="type">'a <a href="Parser.html#TYPEt">t</a> -><br>       'b <a href="Parser.html#TYPEt">t</a> -><br>       'c <a href="Parser.html#TYPEt">t</a> -><br>       'd <a href="Parser.html#TYPEt">t</a> -><br>       'e <a href="Parser.html#TYPEt">t</a> -><br>       'f <a href="Parser.html#TYPEt">t</a> -><br>       'g <a href="Parser.html#TYPEt">t</a> -><br>       'h <a href="Parser.html#TYPEt">t</a> -><br>       'i <a href="Parser.html#TYPEt">t</a> -> ('a * 'b * 'c * 'd * 'e * 'f * 'g * 'h * 'i) <a href="Parser.html#TYPEt">t</a></code></pre></body></html>